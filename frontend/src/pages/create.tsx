import { useFieldArray, useForm } from "react-hook-form";

import { useRouter } from "next/router";
import { useEffect, useState } from "react"

import { useAddRecentTransaction } from '@rainbow-me/rainbowkit';
import { useAccount, useContractWrite, useContractEvent } from "wagmi";

import Modal from "@components/Modal"
import IdentityFactoryABI from "@/utils/IdentityFactory.json";
import { EXPLORER, FACTORY_ADDRESS } from "@/lib/constants";

import toast from "react-hot-toast";
import { PlusSmIcon, TrashIcon } from "@heroicons/react/outline";

const Create = () => {
    const router = useRouter();
    const { data } = useAccount();

    const addTxn = useAddRecentTransaction();

    const [owners, setOwners] = useState([]);
    const { control, register, formState: { errors }, handleSubmit } = useForm();
    const { fields, append, remove } = useFieldArray({
        control, // control props comes from useForm (optional: if you are using FormContext)
        name: "owners", // unique name for your Field Array
    });

    const identityFactoryConfig = {
        addressOrName: FACTORY_ADDRESS,
        contractInterface: IdentityFactoryABI.abi,
    }

    const { data: txData, write } = useContractWrite(
        identityFactoryConfig,
        'createIdentity'
    )

    // auth
    useEffect(() => {
        if (!data?.address) {
            router.push("/");
        }
    }, [data])

    useEffect(() => {
        if (txData?.hash) {
            console.log(`creating identity, txn : ${EXPLORER}/tx/${txData?.hash}`)
            addTxn({
                hash: txData?.hash,
                description: 'created identity',
            })
        }
    }, [txData])

    // redirect to identity page on deploying
    useContractEvent(identityFactoryConfig, 'NewIdentity', (event) => {
        if (event[0]) {
            console.log(`created identity successfully with address ${event[0]}`)
            router.push(`/identity/${event[0]}`)
        }

    }, { once: true })

    const createIdentity = (owners) => {
        console.log("i work bro")
        const addresses = owners.map(owner => owner.address);
        const equities = owners.map(owner => parseInt(owner.equity));

        const duplicateAddress = addresses.some((address) => {
            return addresses.indexOf(address) !== addresses.lastIndexOf(address); // checks for multiple instances of same address
        })

        if (duplicateAddress) {
            console.log("list of addresses : ", addresses)
            toast.error("all the owners should be unique")
            return
        }

        const equitiesSum = equities.reduce((a, b) => a + b, 0)

        if (equitiesSum !== 100) {
            console.log("sum of equities : ", equitiesSum)
            toast.error("equities should add up to 100 %")
            return
        }

        console.log("no validation errors")

        write({
            args: [addresses, equities]
        });

    }

    const onSubmit = (data) => {
        console.log("i work bro")
        createIdentity(data.owners)
    };


    return (
        <div className="flex-1 px-20 justify-around flex items-center gap-20">
            <div className="w-[40%]">
                <h1 className="text-4xl font-bold mb-20">Create Identity</h1>
                <div className="flex items-center justify-between">
                    <h2 className="text-3xl mb-4 font-semibold text-gray-200">Owners</h2>
                    <button
                        onClick={() => append(fields.length === 0 ? { address: data?.address, equity: "" } : { address: "", equity: "" })}
                        className="bg-green-600 rounded-lg p-2 flex gap-1"
                    >
                        <PlusSmIcon className="w-6 h-6" />
                    </button>
                </div>
                <form className="flex flex-col items-start gap-3 pt-3" onSubmit={handleSubmit(onSubmit)}>
                    {fields.map((item, index) => (
                        <div key={item.id} className="flex gap-3 items-start">
                            <span className="flex flex-col gap-1">
                                <input className={"bg-gray-600 rounded px-3 py-2 outline-none"} placeholder="Address" {...register(`owners.${index}.address`, { required: true, pattern: /^0x[a-fA-F0-9]{40}$/ })} type="string" />
                                {errors?.owners && errors.owners[index]?.address && <span className="text-red-400">Please enter a valid address</span>}
                            </span>
                            <span className="flex flex-col gap-1">
                                <input className={"bg-gray-600 rounded px-3 py-2 outline-none"} placeholder="Equity %"  {...register(`owners.${index}.equity`, { required: true, min: 1, max: 100 })} type="number" />
                                {errors?.owners && errors.owners[index]?.equity && <span className="text-red-400">Equity should be a integer b/w 1-100</span>}
                            </span>
                            <button onClick={() => remove(index)} className="w-8 h-8 p-1 text-red-600 self-center"><TrashIcon /></button>
                        </div>
                    ))}
                    <button className="bg-blue-600 text-white font-medium px-4 py-2 rounded-lg flex items-center gap-2 my-8">
                        <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="24" height="24" preserveAspectRatio="xMidYMid meet" viewBox="0 0 16 16"><g fill="none" stroke="#f8f8f8" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M14.25 8.75c-.5 2.5-2.385 4.854-5.03 5.38A6.25 6.25 0 0 1 3.373 3.798C5.187 1.8 8.25 1.25 10.75 2.25" /><path d="m5.75 7.75l2.5 2.5l6-6.5" /></g></svg>
                        DEPLOY
                    </button>
                </form>
            </div>
            <svg width="588" height="405" viewBox="0 0 588 405" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_69_388)">
                    <path d="M66.2256 42.8777C67.9359 42.8777 69.3225 41.492 69.3225 39.7827C69.3225 38.0733 67.9359 36.6876 66.2256 36.6876C64.5152 36.6876 63.1287 38.0733 63.1287 39.7827C63.1287 41.492 64.5152 42.8777 66.2256 42.8777Z" fill="white" />
                    <path d="M77.9795 42.8777C79.6898 42.8777 81.0764 41.492 81.0764 39.7827C81.0764 38.0733 79.6898 36.6876 77.9795 36.6876C76.2691 36.6876 74.8826 38.0733 74.8826 39.7827C74.8826 41.492 76.2691 42.8777 77.9795 42.8777Z" fill="white" />
                    <path d="M89.7334 42.8777C91.4437 42.8777 92.8303 41.492 92.8303 39.7827C92.8303 38.0733 91.4437 36.6876 89.7334 36.6876C88.023 36.6876 86.6365 38.0733 86.6365 39.7827C86.6365 41.492 88.023 42.8777 89.7334 42.8777Z" fill="white" />
                    <path d="M451.966 47.0541H58.7012V49.2386H451.966V47.0541Z" fill="white" />
                    <path d="M452.303 0.25592H0.192871V289.638H452.303V0.25592Z" fill="#E6E6E6" />
                    <path d="M452.11 0H0V19.1961H452.11V0Z" fill="#5196FF" />
                    <path d="M439.749 34.6794H13.4944V144.994H439.749V34.6794Z" fill="white" />
                    <path d="M440.019 163.122H13.7639V273.437H440.019V163.122Z" fill="white" />
                    <path d="M388.124 59.0833H157.434V69.3588H388.124V59.0833Z" fill="#E6E6E6" />
                    <path d="M239.686 84.7717H157.434V95.0472H239.686V84.7717Z" fill="#E6E6E6" />
                    <path d="M321.295 110.46H157.434V120.736H321.295V110.46Z" fill="#E6E6E6" />
                    <path d="M140.084 217.715C140.096 225.196 137.917 232.517 133.815 238.776C132.956 240.095 132.014 241.36 130.995 242.561C128.606 245.389 125.824 247.86 122.732 249.899C121.892 250.455 121.027 250.977 120.14 251.462C115.519 254.016 110.42 255.586 105.162 256.072C103.967 256.189 102.753 256.244 101.527 256.244C98.1679 256.248 94.823 255.811 91.5777 254.944C89.7382 254.461 87.9387 253.837 86.1954 253.077C85.3044 252.692 84.4336 252.274 83.5829 251.822C81.5366 250.748 79.5927 249.49 77.7753 248.062C76.9299 247.405 76.1147 246.711 75.33 245.982C70.6343 241.634 67.0962 236.185 65.0348 230.128C62.9734 224.071 62.4538 217.596 63.5227 211.288C64.5916 204.98 67.2155 199.037 71.1575 193.996C75.0995 188.955 80.2356 184.975 86.102 182.414C91.9685 179.853 98.3807 178.792 104.76 179.328C111.139 179.864 117.284 181.978 122.641 185.481C127.998 188.984 132.397 193.766 135.443 199.393C138.488 205.021 140.083 211.318 140.084 217.716V217.715Z" fill="#5196FF" />
                    <path d="M103.893 199.728H99.1665V235.692H103.893V199.728Z" fill="white" />
                    <path d="M119.522 215.349H83.5369V220.072H119.522V215.349Z" fill="white" />
                    <path d="M382.34 187.526H151.651V197.802H382.34V187.526Z" fill="#E6E6E6" />
                    <path d="M233.902 213.214H151.651V223.49H233.902V213.214Z" fill="#E6E6E6" />
                    <path d="M315.512 238.903H151.651V249.178H315.512V238.903Z" fill="#E6E6E6" />
                    <path d="M29.9014 12.7244C31.6562 12.7244 33.0787 11.3028 33.0787 9.54902C33.0787 7.79528 31.6562 6.3736 29.9014 6.3736C28.1466 6.3736 26.7241 7.79528 26.7241 9.54902C26.7241 11.3028 28.1466 12.7244 29.9014 12.7244Z" fill="white" />
                    <path d="M41.9619 12.7244C43.7167 12.7244 45.1392 11.3028 45.1392 9.54902C45.1392 7.79528 43.7167 6.3736 41.9619 6.3736C40.2072 6.3736 38.7847 7.79528 38.7847 9.54902C38.7847 11.3028 40.2072 12.7244 41.9619 12.7244Z" fill="white" />
                    <path d="M17.8096 12.7244C19.5644 12.7244 20.9869 11.3028 20.9869 9.54902C20.9869 7.79528 19.5644 6.3736 17.8096 6.3736C16.0548 6.3736 14.6323 7.79528 14.6323 9.54902C14.6323 11.3028 16.0548 12.7244 17.8096 12.7244Z" fill="white" />
                    <path d="M124.643 120.826C121.273 119.051 117.756 117.572 114.13 116.404L113.668 111.293L94.9187 109.274L92.5359 115.807L85.8072 118.331C85.5664 118.422 85.3372 118.541 85.1244 118.686H85.1171C84.7416 118.94 84.4218 119.267 84.1772 119.649C83.9326 120.03 83.7683 120.457 83.6945 120.904C83.6227 121.349 83.6397 121.803 83.7445 122.241L84.1002 123.698C84.6121 124.004 85.1386 124.295 85.6648 124.572L85.9992 124.743C86.7675 125.141 87.5499 125.518 88.3536 125.866C88.5172 125.937 88.695 126.008 88.8586 126.079C88.8728 126.086 88.8798 126.086 88.894 126.093C89.2712 126.25 89.648 126.399 90.0321 126.541C91.2939 127.023 92.5808 127.436 93.8872 127.778C97.2215 128.666 100.658 129.116 104.108 129.115C105.367 129.115 106.612 129.058 107.843 128.937C110.654 128.678 113.43 128.117 116.122 127.266C116.129 127.266 116.136 127.259 116.143 127.259C117.844 126.718 119.505 126.06 121.115 125.29C121.122 125.283 121.136 125.283 121.144 125.276C121.506 125.105 121.855 124.921 122.211 124.743L122.381 124.658C122.665 124.508 122.95 124.359 123.235 124.203C123.946 123.812 124.643 123.399 125.333 122.959C125.525 122.845 125.71 122.724 125.902 122.596C126.172 122.418 126.442 122.234 126.706 122.042C126.044 121.615 125.354 121.21 124.643 120.826Z" fill="#3F3D56" />
                    <path d="M89.4561 123.975L88.2825 118.679H85.2169C85.186 118.68 85.1551 118.682 85.1245 118.686H85.1172C84.0156 118.779 82.9545 119.146 82.0304 119.753C81.4036 120.153 80.8463 120.652 80.3804 121.231C81.2907 121.921 82.2367 122.561 83.2112 123.172L83.254 123.193C83.5311 123.364 83.8159 123.534 84.1003 123.698C84.6123 124.004 85.1388 124.295 85.6649 124.572L85.9994 124.743C86.7676 125.141 87.5501 125.518 88.3538 125.866C88.5174 125.937 88.6952 126.008 88.8588 126.079C88.873 126.086 88.88 126.086 88.8942 126.093C89.2714 126.25 89.6482 126.399 90.0323 126.541L89.4561 123.975Z" fill="#3F3D56" />
                    <path d="M103.558 106.043C111.015 106.043 117.061 100.001 117.061 92.5477C117.061 85.0944 111.015 79.0523 103.558 79.0523C96.0998 79.0523 90.0542 85.0944 90.0542 92.5477C90.0542 100.001 96.0998 106.043 103.558 106.043Z" fill="#FFCACA" />
                    <path d="M94.4915 85.9744C95.8893 87.6277 98.2549 88.0942 100.437 88.2855C105.539 88.5672 110.656 88.1496 115.644 87.0445C115.953 90.0387 115.11 93.2673 116.875 95.7303C117.702 92.7484 118.183 89.6812 118.309 86.5893C118.44 85.2628 118.267 83.9237 117.802 82.6743C117.553 82.0481 117.134 81.5043 116.591 81.1045C116.049 80.7047 115.405 80.4651 114.733 80.4129C115.739 79.6501 116.917 79.1466 118.164 78.9468L113.876 76.7934L114.977 75.6636L107.215 75.1889L109.463 73.7614C106.079 73.2967 102.656 73.1887 99.2496 73.4392C97.6678 73.5557 96.014 73.7782 94.7323 74.6941C93.4507 75.6101 92.7101 77.4306 93.5057 78.7755C92.5096 78.9389 91.5717 79.3539 90.7809 79.981C89.9901 80.608 89.3726 81.4265 88.9869 82.3589C88.4991 83.8408 88.3814 85.4194 88.6439 86.9573C88.9364 89.4246 89.5101 91.8505 90.354 94.1875L94.4915 85.9744Z" fill="#2F2E41" />
                    <path d="M141.529 77.9184C139.634 72.4787 136.575 67.5176 132.565 63.3809C128.555 59.2442 123.69 56.0316 118.31 53.967C112.929 51.9025 107.163 51.0357 101.414 51.4271C95.6637 51.8185 90.0686 53.4586 85.0182 56.2332C79.9678 59.0078 75.5838 62.85 72.1719 67.4919C68.7599 72.1338 66.4022 77.4637 65.2631 83.1098C64.1241 88.756 64.231 94.5825 65.5766 100.183C66.9221 105.784 69.4739 111.023 73.0539 115.537C73.4095 115.985 73.7794 116.433 74.1565 116.866C74.185 116.895 74.2062 116.923 74.2347 116.952C75.1618 118.019 76.1472 119.035 77.1864 119.994C77.457 120.243 77.7414 120.499 78.0258 120.741C78.5662 121.224 79.1212 121.686 79.6974 122.127C79.9249 122.305 80.1454 122.482 80.3802 122.653C81.2905 123.342 82.2366 123.982 83.2111 124.594L83.2539 124.615C83.531 124.785 83.8158 124.956 84.1002 125.12C84.6121 125.425 85.1387 125.717 85.6648 125.994L85.9993 126.165C86.7675 126.563 87.55 126.939 88.3536 127.288C88.5172 127.359 88.6951 127.43 88.8587 127.501C88.8729 127.508 88.8799 127.508 88.8941 127.515C89.2713 127.672 89.6481 127.821 90.0322 127.963C91.2939 128.445 92.5808 128.858 93.8873 129.2C97.2216 130.088 100.658 130.537 104.108 130.536C105.367 130.536 106.612 130.479 107.843 130.359C110.654 130.099 113.43 129.539 116.122 128.688C116.129 128.688 116.136 128.681 116.143 128.681C117.844 128.14 119.505 127.482 121.115 126.712C121.122 126.705 121.136 126.705 121.144 126.698C121.506 126.527 121.855 126.342 122.211 126.165L122.381 126.079C122.666 125.93 122.95 125.781 123.235 125.624C123.946 125.233 124.643 124.821 125.333 124.38C125.525 124.267 125.71 124.146 125.902 124.018C126.172 123.84 126.442 123.655 126.706 123.463C127.054 123.222 127.403 122.973 127.744 122.717C127.851 122.639 127.965 122.56 128.071 122.475C134.735 117.42 139.626 110.386 142.044 102.382C144.461 94.3777 144.281 85.8139 141.529 77.9184H141.529ZM126.763 120.748C126.528 120.933 126.286 121.11 126.044 121.274C125.809 121.452 125.575 121.622 125.333 121.779C125.126 121.928 124.92 122.07 124.707 122.205L124.643 122.248C124.486 122.354 124.33 122.454 124.173 122.553C123.583 122.923 122.986 123.278 122.381 123.62C122.317 123.655 122.253 123.691 122.189 123.726C121.919 123.876 121.649 124.018 121.378 124.16C121.343 124.181 121.3 124.196 121.264 124.217L121.222 124.238C120.88 124.416 120.532 124.586 120.183 124.75C118.838 125.397 117.453 125.958 116.036 126.428C115.851 126.492 115.667 126.556 115.482 126.612C112.934 127.422 110.306 127.956 107.644 128.205C106.477 128.311 105.296 128.368 104.108 128.368C100.845 128.375 97.5942 127.949 94.4422 127.103C92.8246 126.681 91.2392 126.144 89.698 125.496C89.6195 125.461 89.5341 125.432 89.456 125.397C89.3709 125.361 89.2924 125.333 89.2142 125.297C89.1288 125.262 89.0506 125.226 88.9652 125.184C88.2967 124.892 87.6351 124.572 86.988 124.238L86.6751 124.075C85.8853 123.662 85.1101 123.222 84.3562 122.752C84.1356 122.617 83.9081 122.475 83.6945 122.326C83.6379 122.29 83.5879 122.255 83.5309 122.219C83.0259 121.885 82.521 121.537 82.0302 121.174C81.6961 120.925 81.3617 120.677 81.0345 120.421C80.4868 120.008 79.9603 119.568 79.4484 119.113C79.1782 118.885 78.9149 118.637 78.6589 118.402C77.6504 117.471 76.6958 116.484 75.7996 115.445C75.5009 115.104 75.2092 114.762 74.9317 114.407C74.8686 114.337 74.8093 114.263 74.7539 114.187C70.1325 108.358 67.3528 101.286 66.7692 93.8729C66.1857 86.4594 67.8247 79.0401 71.4774 72.5613C75.1301 66.0825 80.6307 60.8379 87.278 57.4962C93.9252 54.1545 101.418 52.8672 108.8 53.7985C116.182 54.7298 123.119 57.8375 128.727 62.7253C134.335 67.613 138.359 74.0593 140.286 81.242C142.213 88.4247 141.956 96.0183 139.548 103.054C137.139 110.09 132.688 116.25 126.763 120.748Z" fill="#3F3D56" />
                    <path d="M478.739 267.974C476.844 262.535 473.785 257.574 469.775 253.437C465.765 249.3 460.9 246.088 455.52 244.023C450.139 241.959 444.373 241.092 438.624 241.483C432.874 241.875 427.279 243.515 422.228 246.289C417.178 249.064 412.794 252.906 409.382 257.548C405.97 262.19 403.612 267.52 402.473 273.166C401.334 278.812 401.441 284.638 402.787 290.239C404.132 295.84 406.684 301.079 410.264 305.593C410.619 306.041 410.989 306.489 411.366 306.923C411.395 306.951 411.416 306.979 411.444 307.008C412.372 308.075 413.357 309.091 414.396 310.05C414.667 310.299 414.951 310.555 415.235 310.797C415.776 311.28 416.331 311.742 416.907 312.183C418.032 313.069 419.205 313.893 420.421 314.65L420.463 314.671C421.253 315.161 422.056 315.616 422.875 316.05L423.209 316.221C423.977 316.619 424.76 316.995 425.563 317.344C425.727 317.415 425.905 317.486 426.068 317.557C426.082 317.564 426.09 317.564 426.104 317.571C427.728 318.246 429.396 318.809 431.097 319.256C434.431 320.144 437.867 320.593 441.318 320.592C442.577 320.592 443.822 320.536 445.052 320.415C447.864 320.155 450.639 319.595 453.332 318.744C453.339 318.744 453.346 318.737 453.353 318.737C455.053 318.196 456.715 317.538 458.325 316.768C458.332 316.761 458.346 316.761 458.353 316.754C458.716 316.583 459.064 316.398 459.42 316.221L459.591 316.135C459.875 315.986 460.16 315.837 460.444 315.68C461.156 315.289 461.853 314.877 462.543 314.436C462.735 314.323 462.92 314.202 463.112 314.074C463.737 313.661 464.356 313.221 464.954 312.773C465.061 312.695 465.174 312.617 465.281 312.531C471.945 307.476 476.836 300.442 479.253 292.438C481.671 284.434 481.491 275.87 478.739 267.974Z" fill="white" />
                    <path d="M454.394 297.315C457.674 297.315 460.332 294.658 460.332 291.38C460.332 288.102 457.674 285.445 454.394 285.445C451.114 285.445 448.456 288.102 448.456 291.38C448.456 294.658 451.114 297.315 454.394 297.315Z" fill="#2F2E41" />
                    <path d="M456.048 285.608C457.076 285.608 458.087 285.875 458.98 286.382C459.874 286.889 460.621 287.62 461.148 288.502C461.675 289.384 461.964 290.387 461.986 291.414C462.009 292.441 461.764 293.456 461.276 294.361C461.791 293.717 462.166 292.973 462.377 292.176C462.588 291.38 462.631 290.548 462.503 289.734C462.375 288.92 462.078 288.141 461.632 287.448C461.187 286.755 460.601 286.162 459.913 285.708C459.226 285.253 458.451 284.946 457.638 284.808C456.825 284.669 455.992 284.701 455.192 284.902C454.393 285.102 453.644 285.467 452.993 285.973C452.342 286.479 451.804 287.115 451.412 287.841C451.968 287.144 452.673 286.581 453.476 286.195C454.278 285.808 455.158 285.608 456.049 285.608H456.048Z" fill="#2F2E41" />
                    <path d="M443.297 291.367C452.931 291.367 460.742 283.561 460.742 273.932C460.742 264.304 452.931 256.498 443.297 256.498C433.662 256.498 425.852 264.304 425.852 273.932C425.852 283.561 433.662 291.367 443.297 291.367Z" fill="#2F2E41" />
                    <path d="M429.605 263.115C432.611 259.737 436.813 257.657 441.324 257.316C445.834 256.975 450.301 258.399 453.782 261.287C453.639 261.151 453.497 261.015 453.35 260.883C449.904 257.798 445.372 256.207 440.753 256.461C436.133 256.714 431.803 258.792 428.716 262.236C425.629 265.68 424.037 270.208 424.291 274.825C424.545 279.442 426.624 283.769 430.07 286.855C430.103 286.884 430.136 286.914 430.169 286.943C430.317 287.075 430.469 287.199 430.621 287.325C427.344 284.209 425.406 279.942 425.216 275.425C425.027 270.908 426.601 266.494 429.606 263.115H429.605Z" fill="#2F2E41" />
                    <path d="M443.149 291.219C449.354 291.219 454.384 286.192 454.384 279.99C454.384 273.789 449.354 268.762 443.149 268.762C436.944 268.762 431.914 273.789 431.914 279.99C431.914 286.192 436.944 291.219 443.149 291.219Z" fill="#A0616A" />
                    <path d="M463.254 309.247V313.015C462.564 313.455 461.867 313.868 461.156 314.259C460.871 314.415 460.587 314.564 460.302 314.714L460.132 314.799C459.776 314.977 459.427 315.161 459.065 315.332C459.058 315.339 459.043 315.339 459.036 315.346C457.426 316.116 455.765 316.774 454.064 317.315C454.057 317.315 454.05 317.322 454.043 317.322C451.351 318.174 448.575 318.734 445.764 318.993C444.533 319.114 443.288 319.171 442.029 319.171C438.579 319.172 435.143 318.722 431.809 317.834C430.108 317.387 428.439 316.824 426.815 316.149C426.801 316.142 426.794 316.142 426.78 316.135C426.616 316.064 426.438 315.993 426.275 315.922C425.471 315.574 424.689 315.197 423.92 314.799L423.586 314.628C422.768 314.195 421.964 313.74 421.175 313.249L421.132 313.228C419.916 312.471 418.743 311.647 417.619 310.761C417.042 310.32 416.488 309.858 415.947 309.375C415.662 309.133 415.378 308.877 415.108 308.629C414.069 307.669 413.083 306.654 412.156 305.586C412.279 304.846 412.46 304.116 412.697 303.404L412.703 303.397C412.746 303.275 412.796 303.157 412.853 303.041C412.892 302.939 412.937 302.839 412.988 302.743C414.261 300.361 416.566 299.771 419.425 299.643C421.04 299.572 422.825 299.65 424.71 299.629C425.706 299.622 426.737 299.586 427.768 299.494C434.277 298.904 433.096 295.065 433.388 292.997C433.679 290.992 435.486 292.727 435.607 292.84L435.614 292.847C439.297 294.57 443.371 295.284 447.421 294.916C448.118 294.831 448.815 294.781 449.512 294.76C451.347 294.738 450.949 295.264 450.316 295.698C450.009 295.9 449.688 296.081 449.356 296.238C449.356 296.238 449.064 298.015 448.765 300.674C448.481 303.219 453.36 304.413 453.766 304.506C453.774 304.511 453.784 304.514 453.794 304.513C455.576 304.051 457.452 304.1 459.207 304.655H459.214C460.217 305.023 461.112 305.636 461.817 306.438C462.523 307.24 463.017 308.206 463.254 309.247Z" fill="#5196FF" />
                    <path d="M426.886 313.818C426.886 314.344 426.872 314.849 426.851 315.325C426.844 315.609 426.83 315.887 426.815 316.15C426.801 316.142 426.794 316.142 426.78 316.135C426.616 316.064 426.438 315.993 426.275 315.922C425.471 315.574 424.688 315.197 423.92 314.799L423.586 314.628C422.768 314.195 421.964 313.74 421.175 313.249C421.196 313 421.232 312.752 421.267 312.503C421.345 311.955 421.409 311.401 421.452 310.854C421.732 307.008 421.035 303.154 419.425 299.65V299.643C419.283 299.359 419.198 299.203 419.198 299.203C419.198 299.203 421.267 297.425 424.219 299.203C424.407 299.313 424.574 299.458 424.71 299.629C426.488 301.726 426.972 308.778 426.886 313.818Z" fill="#2F2E41" />
                    <path d="M459.186 312.851C459.157 313.647 459.114 314.479 459.065 315.325V315.332C459.058 315.339 459.043 315.339 459.036 315.346C457.426 316.116 455.765 316.774 454.064 317.315C454.057 317.315 454.05 317.322 454.043 317.322L453.965 315.325L453.958 315.062L453.581 305.337C453.571 305.117 453.605 304.897 453.683 304.691C453.76 304.484 453.878 304.296 454.03 304.136C454.183 303.977 454.366 303.85 454.568 303.763C454.771 303.676 454.989 303.631 455.21 303.631H458.816C458.993 303.631 459.122 303.994 459.207 304.648V304.655C459.382 307.384 459.375 310.123 459.186 312.851Z" fill="#2F2E41" />
                    <path d="M433.539 265.954V277.186H436.141L439.452 273.64L439.009 277.186H450.51L449.799 273.64L451.222 277.186H453.055V265.954H433.539Z" fill="#2F2E41" />
                    <path d="M431.766 279.252C432.255 279.252 432.653 278.524 432.653 277.627C432.653 276.729 432.255 276.002 431.766 276.002C431.276 276.002 430.879 276.729 430.879 277.627C430.879 278.524 431.276 279.252 431.766 279.252Z" fill="#A0616A" />
                    <path d="M454.533 279.252C455.023 279.252 455.42 278.524 455.42 277.627C455.42 276.729 455.023 276.002 454.533 276.002C454.043 276.002 453.646 276.729 453.646 277.627C453.646 278.524 454.043 279.252 454.533 279.252Z" fill="#A0616A" />
                    <path d="M465.665 311.351C465.068 311.799 464.449 312.24 463.823 312.652C463.631 312.78 463.446 312.901 463.254 313.015C462.564 313.455 461.867 313.868 461.156 314.259C460.871 314.415 460.587 314.564 460.302 314.714V306.88C460.302 306.88 461.44 307.79 463.254 309.304C463.481 309.496 463.716 309.695 463.965 309.908C464.491 310.349 465.061 310.832 465.665 311.351Z" fill="#5196FF" />
                    <path d="M478.739 267.974C476.844 262.535 473.785 257.574 469.775 253.437C465.765 249.3 460.9 246.088 455.52 244.023C450.139 241.959 444.373 241.092 438.624 241.483C432.874 241.875 427.279 243.515 422.228 246.289C417.178 249.064 412.794 252.906 409.382 257.548C405.97 262.19 403.612 267.52 402.473 273.166C401.334 278.812 401.441 284.638 402.787 290.239C404.132 295.84 406.684 301.079 410.264 305.593C410.619 306.041 410.989 306.489 411.366 306.923C411.395 306.951 411.416 306.979 411.444 307.008C412.372 308.075 413.357 309.091 414.396 310.05C414.667 310.299 414.951 310.555 415.235 310.797C415.776 311.28 416.331 311.742 416.907 312.183C418.032 313.069 419.205 313.893 420.421 314.65L420.463 314.671C421.253 315.161 422.056 315.616 422.875 316.05L423.209 316.221C423.977 316.619 424.76 316.995 425.563 317.344C425.727 317.415 425.905 317.486 426.068 317.557C426.082 317.564 426.09 317.564 426.104 317.571C427.728 318.246 429.396 318.809 431.097 319.256C434.431 320.144 437.867 320.593 441.318 320.592C442.577 320.592 443.822 320.536 445.052 320.415C447.864 320.155 450.639 319.595 453.332 318.744C453.339 318.744 453.346 318.737 453.353 318.737C455.053 318.196 456.715 317.538 458.325 316.768C458.332 316.761 458.346 316.761 458.353 316.754C458.716 316.583 459.064 316.398 459.42 316.221L459.591 316.135C459.875 315.986 460.16 315.837 460.444 315.68C461.156 315.289 461.853 314.877 462.543 314.436C462.735 314.323 462.92 314.202 463.112 314.074C463.737 313.661 464.356 313.221 464.954 312.773C465.061 312.695 465.174 312.617 465.281 312.531C471.945 307.476 476.836 300.442 479.253 292.438C481.671 284.434 481.491 275.87 478.739 267.974ZM463.972 310.804C463.737 310.989 463.496 311.166 463.254 311.33C463.019 311.508 462.784 311.678 462.543 311.835C462.336 311.984 462.13 312.126 461.917 312.261C461.739 312.382 461.561 312.496 461.383 312.609C460.793 312.979 460.196 313.334 459.591 313.676C459.527 313.711 459.463 313.747 459.399 313.782C459.128 313.932 458.858 314.074 458.588 314.216C458.552 314.237 458.509 314.252 458.474 314.273L458.431 314.294C458.09 314.472 457.742 314.642 457.393 314.806C456.048 315.453 454.663 316.014 453.246 316.484C453.061 316.548 452.876 316.612 452.691 316.668C450.143 317.478 447.515 318.012 444.853 318.261C443.687 318.367 442.506 318.424 441.318 318.424C438.054 318.431 434.804 318.005 431.652 317.159C430.034 316.737 428.449 316.2 426.908 315.552C426.744 315.488 426.58 315.417 426.424 315.353C426.339 315.318 426.26 315.282 426.175 315.24C425.506 314.948 424.845 314.628 424.198 314.294L423.885 314.131C423.095 313.718 422.32 313.278 421.566 312.808C421.289 312.638 421.011 312.46 420.741 312.275C419.887 311.714 419.055 311.109 418.244 310.477C417.696 310.065 417.17 309.624 416.658 309.169C416.388 308.941 416.124 308.693 415.869 308.458C414.86 307.527 413.905 306.54 413.009 305.501C412.711 305.16 412.419 304.818 412.141 304.463C412.078 304.393 412.019 304.319 411.963 304.243C407.342 298.414 404.562 291.342 403.979 283.929C403.395 276.515 405.034 269.096 408.687 262.617C412.34 256.139 417.84 250.894 424.488 247.552C431.135 244.211 438.627 242.923 446.009 243.855C453.392 244.786 460.329 247.894 465.937 252.781C471.545 257.669 475.569 264.115 477.496 271.298C479.423 278.481 479.166 286.074 476.757 293.11C474.349 300.146 469.898 306.306 463.972 310.804Z" fill="#3F3D56" />
                    <path d="M476.507 264.869C477.49 264.513 478.383 263.946 479.123 263.207C479.863 262.469 480.432 261.577 480.79 260.595C481.148 259.614 481.286 258.565 481.194 257.524C481.103 256.483 480.784 255.475 480.261 254.57L496.875 235.346L483.778 233.642L470.008 252.159C468.546 253.139 467.494 254.62 467.052 256.324C466.61 258.027 466.808 259.832 467.609 261.399C468.41 262.966 469.758 264.185 471.398 264.824C473.038 265.464 474.856 265.48 476.507 264.869V264.869Z" fill="#FFCACA" />
                    <path d="M570.157 268.932C570.846 268.146 571.355 267.218 571.647 266.215C571.939 265.212 572.007 264.156 571.847 263.124C571.687 262.091 571.302 261.106 570.72 260.238C570.137 259.37 569.372 258.64 568.477 258.1L573.758 233.252L561.461 238.071L558.331 260.928C557.523 262.491 557.316 264.296 557.75 266.001C558.184 267.706 559.229 269.193 560.687 270.179C562.145 271.166 563.914 271.584 565.659 271.354C567.405 271.124 569.005 270.262 570.157 268.932Z" fill="#FFCACA" />
                    <path d="M510.648 398.431L501.928 398.43L497.78 364.815L510.65 364.816L510.648 398.431Z" fill="#FFCACA" />
                    <path d="M512.872 406.879L484.755 406.878V406.522C484.755 405.086 485.038 403.664 485.588 402.337C486.138 401.01 486.944 399.804 487.961 398.788C488.977 397.773 490.183 396.967 491.511 396.417C492.839 395.868 494.262 395.585 495.699 395.585H495.7L512.873 395.586L512.872 406.879Z" fill="#2F2E41" />
                    <path d="M553.325 398.431L544.605 398.43L540.457 364.815L553.327 364.816L553.325 398.431Z" fill="#FFCACA" />
                    <path d="M555.549 406.879L527.432 406.878V406.522C527.432 405.086 527.715 403.664 528.265 402.337C528.815 401.01 529.621 399.804 530.637 398.788C531.654 397.773 532.86 396.967 534.188 396.417C535.516 395.868 536.939 395.585 538.376 395.585H538.377L555.55 395.586L555.549 406.879Z" fill="#2F2E41" />
                    <path d="M511.557 380.878L499.213 380.385C498.371 380.348 497.577 379.982 497.002 379.366C496.428 378.75 496.119 377.933 496.142 377.091L499.62 263.083L499.847 263.001C521.481 255.18 539.378 255.771 554.562 264.807L554.732 264.908L556.816 375.946C556.824 376.372 556.747 376.794 556.59 377.189C556.432 377.584 556.198 377.944 555.9 378.248C555.602 378.551 555.247 378.792 554.854 378.957C554.462 379.121 554.041 379.206 553.615 379.206H543.207C542.465 379.205 541.747 378.947 541.174 378.476C540.602 378.005 540.21 377.351 540.066 376.624L525.886 304.536C525.837 304.287 525.701 304.063 525.502 303.906C525.303 303.748 525.054 303.667 524.8 303.676C524.546 303.685 524.304 303.785 524.117 303.957C523.93 304.129 523.811 304.362 523.78 304.614L514.862 378.067C514.764 378.842 514.388 379.554 513.803 380.072C513.218 380.589 512.465 380.877 511.684 380.88C511.642 380.88 511.599 380.88 511.557 380.878Z" fill="#2F2E41" />
                    <path d="M523.566 163.102C533.214 163.102 541.036 155.286 541.036 145.643C541.036 136 533.214 128.183 523.566 128.183C513.918 128.183 506.096 136 506.096 145.643C506.096 155.286 513.918 163.102 523.566 163.102Z" fill="#FFCACA" />
                    <path d="M482.411 250.992C481.805 250.753 481.286 250.335 480.924 249.794L477.549 244.745C477.184 244.198 476.997 243.552 477.012 242.895C477.027 242.238 477.244 241.601 477.633 241.071L491.241 222.611L499.767 181.729C500.257 180.467 500.992 179.314 501.928 178.335C502.865 177.357 503.985 176.573 505.225 176.027C506.466 175.482 507.801 175.186 509.156 175.157C510.51 175.128 511.857 175.366 513.12 175.857C514.382 176.348 515.535 177.083 516.513 178.02C517.491 178.957 518.275 180.078 518.82 181.318C519.364 182.557 519.659 183.892 519.687 185.246C519.715 186.6 519.476 187.946 518.983 189.207L514.954 215.226C513.732 223.123 509.682 230.307 503.557 235.443L485.643 250.467C485.298 250.756 484.897 250.969 484.465 251.092C484.032 251.215 483.579 251.246 483.134 251.183C482.886 251.148 482.644 251.084 482.411 250.992Z" fill="#3F3D56" />
                    <path d="M569.411 252.844C568.798 253.065 568.133 253.094 567.503 252.927L561.632 251.366C560.996 251.196 560.429 250.835 560.006 250.331C559.582 249.828 559.324 249.207 559.266 248.552L557.277 225.71L536.648 189.393C536.182 188.121 535.97 186.771 536.026 185.417C536.082 184.064 536.405 182.736 536.975 181.507C537.545 180.279 538.352 179.174 539.35 178.258C540.347 177.341 541.516 176.63 542.789 176.165C544.061 175.7 545.413 175.491 546.767 175.548C548.121 175.606 549.45 175.929 550.679 176.501C551.907 177.072 553.011 177.88 553.927 178.878C554.843 179.876 555.553 181.044 556.017 182.317L570.194 204.508C574.497 211.242 576.207 219.31 575.004 227.21L571.49 250.316C571.422 250.76 571.262 251.185 571.019 251.563C570.776 251.941 570.456 252.264 570.08 252.511C569.871 252.648 569.647 252.76 569.411 252.844Z" fill="#3F3D56" />
                    <path d="M504.458 176.649C507.458 173.36 511.16 170.787 515.288 169.118C519.417 167.45 523.868 166.729 528.312 167.01C528.604 167.028 528.895 167.048 529.185 167.071H529.185C533.397 167.404 537.49 168.632 541.19 170.672C544.889 172.713 548.11 175.519 550.637 178.904C553.206 182.336 555.013 186.277 555.936 190.463C556.859 194.648 556.877 198.983 555.989 203.176C552.602 219.202 553.459 235.834 558.476 251.427L563.163 265.97C563.313 266.436 563.354 266.931 563.283 267.415C563.212 267.899 563.031 268.361 562.753 268.764C562.475 269.168 562.109 269.502 561.681 269.741C561.254 269.98 560.777 270.118 560.288 270.144L536.328 271.432L530.197 260.847V271.761L501.077 273.326C501.019 273.329 500.961 273.331 500.904 273.331C500.462 273.331 500.025 273.239 499.62 273.062C499.215 272.885 498.852 272.625 498.552 272.301C498.253 271.976 498.023 271.593 497.879 271.176C497.735 270.758 497.679 270.315 497.715 269.875L501.006 229.085L496.878 201.38C496.209 196.954 496.543 192.434 497.855 188.154C499.167 183.873 501.424 179.942 504.458 176.649Z" fill="#3F3D56" />
                    <path d="M535.707 162.31C534.09 163.241 527.697 163.857 527.241 162.049L527.231 162.009C526.914 160.684 527.178 159.3 527.269 157.941C527.36 156.581 527.227 155.088 526.3 154.088C524.573 152.225 521.501 153.213 519.004 152.742C517.541 152.415 516.247 151.567 515.365 150.357C514.482 149.146 514.072 147.655 514.209 146.164C514.245 145.881 514.301 145.599 514.363 145.316C514.52 144.6 514.507 143.857 514.328 143.146C514.149 142.435 513.807 141.775 513.33 141.219C512.852 140.662 512.252 140.224 511.577 139.938C510.901 139.652 510.169 139.526 509.436 139.571C506.913 139.715 504.189 140.48 502.101 138.611C500.486 137.167 500.092 133.406 500.801 131.36C501.994 127.92 509.631 126.12 512.966 125.13C517.09 123.939 521.428 123.682 525.664 124.376C529.9 125.071 533.928 126.7 537.455 129.146C539.561 130.63 541.528 132.494 542.426 134.908C543.324 137.322 542.891 140.368 540.866 141.961C542.436 143.622 543.541 145.665 544.071 147.886C544.601 150.108 544.537 152.43 543.887 154.619C542.887 157.839 538.115 160.926 535.707 162.31Z" fill="#2F2E41" />
                </g>
                <defs>
                    <clipPath id="clip0_69_388">
                        <rect width="588" height="405" fill="white" />
                    </clipPath>
                </defs>
            </svg>

        </div>
    )
}

export default Create